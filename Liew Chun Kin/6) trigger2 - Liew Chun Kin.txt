CREATE OR REPLACE TRIGGER TRG_CHECK_APPOINTMENT_STATUS
BEFORE UPDATE ON APPOINTMENT
FOR EACH ROW
BEGIN

  IF NOT (:NEW.APPOINTMENT_STATUS IN ('Done', 'Pending')) THEN
     RAISE_APPLICATION_ERROR(-20017, 'INVALID APPOINTMENT STATUS');
  END IF;
END;
/

/* 
UPDATE APPOINTMENT
SET APPOINTMENT_STATUS = 'Don'
WHERE APPOINTMENT_ID = 'A0150';
*/
